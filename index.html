<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>S4U</title>

  <style>
    * { box-sizing: border-box; }
    html, body {
      margin: 0;
      height: 100%;
      background: #0b1020;
      color: #fff;
      font-family: system-ui, -apple-system, "Noto Sans KR", sans-serif;
      overflow: hidden;
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      background: rgba(0,0,0,.5);
      z-index: 10;
    }

    header b { letter-spacing: .1em; }

    main {
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 60px 10px 60px;
      touch-action: pan-y;
    }

    .viewer {
      width: min(95vw, 1100px);
      height: min(80vh, 720px);
      background: rgba(255,255,255,.04);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    img {
      max-width: 100%;
      max-height: 100%;
      user-select: none;
      -webkit-user-drag: none;
    }

    .counter {
      position: absolute;
      bottom: 12px;
      right: 14px;
      font-size: 12px;
      background: rgba(0,0,0,.5);
      padding: 6px 10px;
      border-radius: 20px;
    }

    footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 10px;
      display: flex;
      justify-content: center;
      gap: 12px;
      background: rgba(0,0,0,.5);
    }

    button {
      padding: 10px 16px;
      border-radius: 12px;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>

<body>

<header>
  <b>S4U</b>
  <span style="font-size:12px;">← → 이동 · F 전체화면 · 스와이프</span>
</header>

<main id="stage">
  <div class="viewer">
    <img id="img" />
    <div class="counter" id="counter"></div>
  </div>
</main>

<footer>
  <button onclick="prev()">◀ 이전</button>
  <button onclick="next()">다음 ▶</button>
</footer>

<script>
  /* ==============================
     GitHub RAW 이미지 설정
  ============================== */

  const BASE =
    "https://github.com/cocodeKang/S4U/blob/main/image/";

  const START = 1;
  const END = 19;
  const EXT = ".png?raw=true";

  const images = Array.from(
    { length: END - START + 1 },
    (_, i) => `${BASE}image${i + START}.png?raw=true`
  );

  let index = 0;

  const img = document.getElementById("img");
  const counter = document.getElementById("counter");
  const stage = document.getElementById("stage");

  function load(i) {
    index = (i + images.length) % images.length;
    img.src = images[index];
    counter.textContent = `${index + 1} / ${images.length}`;
  }

  function next() { load(index + 1); }
  function prev() { load(index - 1); }

  /* 키보드 */
  document.addEventListener("keydown", e => {
    if (e.key === "ArrowRight") next();
    if (e.key === "ArrowLeft") prev();
    if (e.key === "f" || e.key === "F") toggleFullscreen();
  });

  /* 모바일 스와이프 */
  let startX = 0;

  stage.addEventListener("touchstart", e => {
    startX = e.touches[0].clientX;
  });

  stage.addEventListener("touchend", e => {
    const dx = e.changedTouches[0].clientX - startX;
    if (dx > 50) prev();
    if (dx < -50) next();
  });

  /* 전체화면 */
  function toggleFullscreen() {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
    } else {
      document.exitFullscreen();
    }
  }

  /* 최초 로드 */
  load(0);
</script>

</body>
</html>
